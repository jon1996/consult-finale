/* Shared, modern UI for dynamic forms (visual-only changes) */
:root{
  --bg:#F5F7FB;
  --surface:#F9FAFB;
  --text:#101828;
  --muted:#667085;
  --border:#E4E7EC;
  --radius-lg:16px;
  --radius-md:12px;
  --radius-sm:8px;
  --elev1:0 4px 16px rgba(16,24,40,.08);

  /* Inherit brand tokens from page when available; fallback to orange */
  --primary: var(--brand-color, #FF7A00);
  --primary-600: var(--brand-color-hover, #E36D00);
  --primary-700: var(--brand-color-dark, #CC6200);

  --chip-bg:#F2F4F7;
  --chip-border:#E4E7EC;
  --chip-active-bg: color-mix(in srgb, var(--primary) 12%, white);
  --chip-active-border: color-mix(in srgb, var(--primary) 45%, #E4E7EC);

  --error:#D92D20;
  --focus-ring:0 0 0 3px color-mix(in srgb, var(--primary) 35%, transparent);
}

/* Dark theme adjustments via page-level tokens; override chip colors for better contrast */
html[data-theme="dark"] .choice-group label, html[data-theme="dark"] .checkbox-group label{
  background:rgba(255,255,255,.03);
  border-color:var(--border);
}
html[data-theme="dark"] .choice-group label:has(input:checked),
html[data-theme="dark"] .checkbox-group label:has(input:checked){
  background:rgba(96,165,250,.12);
  border-color:#60A5FA;
  box-shadow:inset 0 0 0 2px rgba(96,165,250,.4);
}

/* Containers (all forms) */
.hotel-form-component,
.location-form-component,
.aeroport-form-component,
.conciergerie-form-component,
.tdg-form-component,
.visa-carte-form-component,
.autres-form-component{
  width:100%;
  max-width:860px;
  margin:0 auto;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius-lg);
  box-shadow:var(--elev1);
  padding:clamp(16px,2.5vw,28px);
  color:var(--ink);
}

fieldset{border:0;margin:0;padding:0}
legend{font-size:clamp(20px,2.2vw,28px);font-weight:700;margin:0 0 8px}

.muted{color:var(--muted)}
.req{color:var(--error)}

/* Groups and labels */
.form-group{margin:14px 0 18px}
.form-group>label,.form-group>.label{display:inline-block;font-weight:600;margin:0 0 8px}

/* Inputs */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="date"],
input[type="time"],
select,
textarea{
  width:100%;
  border:1px solid var(--border);
  border-radius:var(--radius-sm);
  background:var(--surface);
  padding:10px 12px;
  font:inherit;
  color:var(--text);
  outline:none;
  transition:border-color .15s, box-shadow .15s, background-color .15s;
}
textarea{min-height:96px;resize:vertical}
input::placeholder,textarea::placeholder{color:var(--muted)}

/* Focus & invalid */
input:focus,select:focus,textarea:focus{border-color:var(--primary);box-shadow:var(--focus-ring)}
input:required:user-invalid,select:required:user-invalid,textarea:required:user-invalid{border-color:var(--error)}

/* Explicit UI error class applied by JS */
input.ui-error, select.ui-error, textarea.ui-error{
  border-color:var(--error)!important;
  box-shadow:0 0 0 3px rgba(217,45,32,.12)!important;
}
.field-error{font-size:12px;color:var(--error);margin-top:6px}

/* Native accent */
input[type=checkbox],input[type=radio]{accent-color:var(--primary-700)}

/* Chip-like radios/checkboxes */
.choice-group,.checkbox-group{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:10px;
}
.choice-group label,.checkbox-group label{
  display:flex;align-items:center;gap:8px;
  padding:10px 12px;border:1px solid var(--chip-border);
  border-radius:999px;background:var(--chip-bg);
  cursor:pointer;user-select:none;
  transition:background-color .15s, border-color .15s, transform .05s;
}
.choice-group label:hover,.checkbox-group label:hover{border-color:var(--primary)}
.choice-group label:active,.checkbox-group label:active{transform:scale(.98)}
/* Based on internal input state */
.choice-group label:has(input:checked),
.checkbox-group label:has(input:checked){
  background:var(--chip-active-bg);
  border-color:var(--chip-active-border);
  box-shadow:inset 0 0 0 2px var(--primary-600);
}

/* Sections (TDG/Visa etc.) */
.service-section,.visa-section,.etab-subsection{
  border:1px solid var(--border);
  border-radius:var(--radius-md);
  padding:14px;
  background:var(--surface);
}
.service-section{border-left:4px solid var(--primary-600)}
.visa-section{border-left:4px solid #22C55E}
.etab-subsection{border-left:4px solid #06B6D4}

.tdg-form-component h4, .visa-carte-form-component h4{margin:4px 0 10px;font-size:18px;font-weight:700}
.tdg-form-component h5, .visa-carte-form-component h5{margin:4px 0 10px;font-size:16px;font-weight:700;color:var(--muted)}

/* Utility grids */
.grid{display:grid;gap:10px}
.grid-2{grid-template-columns:repeat(2,1fr)}
@media (max-width:600px){.grid-2{grid-template-columns:1fr}}

/* File inputs */
input[type="file"]{
  border:1px dashed var(--chip-border);
  background:var(--surface);
  padding:10px;border-radius:var(--radius-sm);
}
input[type="file"]::file-selector-button{
  margin-right:10px;padding:8px 12px;border:1px solid var(--primary-700);
  background:var(--primary);color:#fff;border-radius:8px;cursor:pointer;
}
input[type="file"]:hover::file-selector-button{background:var(--primary-700)}

/* Buttons */
button[type="submit"],button.contact-btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:10px 16px;border-radius:10px;border:1px solid transparent;
  background:var(--primary);color:#fff;font-weight:600;cursor:pointer;
  transition:transform .05s, background .15s, box-shadow .15s;
}
button[type="submit"]:hover,button.contact-btn:hover{background:var(--primary-700)}
button[type="submit"]:active,button.contact-btn:active{transform:translateY(1px)}
button.contact-btn{background:var(--primary-600);border-color:var(--primary-700)}
button.contact-btn:hover{background:var(--primary-700)}

/* Separator / helper */
.hr{height:1px;background:var(--border);margin:14px 0}
.helper{font-size:12px;color:var(--muted)}

/* Keep existing action bar */
.form-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:12px}

/* Backward-compat specific selectors */
.visa-carte-form-component .visa-section{background:var(--surface)}
.visa-carte-form-component .etab-subsection{background:var(--surface)}

/* Dark mode: keep light-neutral surfaces to avoid black cards */
/* Respect page theme via CSS variables; no media query override needed */
